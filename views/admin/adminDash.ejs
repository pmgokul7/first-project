<%-include("../partials/top.ejs")%>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
  mdl-layout--fixed-header">         <header class="mdl-layout__header">
          <div class="mdl-layout__header-row">
            <!-- Title -->
            <span class="mdl-layout-title">Admin Dash</span>
            <!-- Add spacer, to align navigation to the right -->
            <div class="mdl-layout-spacer"></div>
            <!-- Navigation. We hide it in small screens. -->
            <nav class="mdl-navigation mdl-layout--large-screen-only">
              <button id="demo-menu-lower-right"
              class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">more_vert</i>
      </button>
      
      <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
          for="demo-menu-lower-right">
        <li class="mdl-menu__item">Some Action</li>
        <li class="mdl-menu__item">Another Action</li>
        <li disabled class="mdl-menu__item">Disabled Action</li>
       <a href="/logout"><li class="mdl-menu__item">log out</li></a>
      </ul>
      
              
            </nav>
          </div>
        </header>
        <div class="mdl-layout__drawer">
          <span class="mdl-layout-title">Title</span>
          <nav class="mdl-navigation ">
            <a class="mdl-navigation__link text-dark fw-bolder" href="/admin">Dashboard</a>
              <a class="mdl-navigation__link text-dark fw-bolder" href="/admin/products">Products</a>
              <a class="mdl-navigation__link text-dark fw-bolder" href="/admin/users">Users</a>
              <a class="mdl-navigation__link text-dark fw-bolder" href="/admin/orders">orders</a>

              <a class="mdl-navigation__link text-dark fw-bolder" href="/admin/categories">Category</a>
              <a class="mdl-navigation__link text-dark fw-bolder" href="/admin/sub-categories">Sub Categories</a>
              <a class="mdl-navigation__link text-dark fw-bolder" href="/admin/reports">sales Reports</a>
              <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

          </nav>
        </div>
        <main class="mdl-layout__content">
          <div class="page-content"><!-- Your content goes here -->
           


  

    <h1 id="paypal" style="display: none;"><%=paypal%></h1>
    <h1 id="cod"  style="display: none;"><%=cod%></h1>
    <h1 id="razorpay" style="display: none;"><%=razorpay%></h1>




    <h1 id="codd" style="display: none;"><%=codR%></h1>
   
    
    <h1 id="paypall" style="display: none;"><%=paypalR%></h1>
   
    <div class="container d-flex mt-4 justify-content-between" style="box-sizing:content-box;"> <div class=" w-50">
            <div class="me-4" style="border: 2px solid rgb(175, 166, 166); ">
              <h2 class="ps-3 pt-2"> Total Orders:<%=Number(paypal+cod+razorpay)%></h2>

              <canvas class="p-3" id="myChart"></canvas>
            </div>
           
          
          </div>
          <div class=" w-50 " style="border: 2px solid rgb(175, 166, 166);">
            <div>
              <h2 class="ps-3 pt-2">Orders</h2>
              <h2 class="p-3">Total Revenue:&nbsp&nbsp&nbsp&nbsp;<%=total%></h2>
              <canvas class="p-3" id="myChart2" ></canvas>
            </div>
           
          
          </div>
    </div>
         
        






        
        </main>
       
        
        <script>
           
   $(document).ready(()=>{
    console.log($("#paypal").html());
    var myVAlues=new Array();
            $.get("/admin/ordersData",(res)=>{
            for(i=0;i<res.length;i++)
            {
              myVAlues.push(res[i].count)
            }
                 
           
            })

console.log(myVAlues);
          const labels = [
            'paypal',
            'COD',
            'Razorpay',
            
          ];
          
        
          const data = {
            labels: labels,
            datasets: [{
              label: 'Orders',
              backgroundColor: 'rgb(100,128,255)',
              borderColor: '',
              data:[$("#paypal").html(),$("#cod").html(),$("#razorpay").html()],
            }]
          };
        
          const config = {
            type: 'bar',
            data: data,
            options: {}
          };
          const myChart = new Chart(
            document.getElementById('myChart'),
            config
          );
    






         const labels2 = [
            'paypal',
            'COD',
            'Razorpay',
            
          ];
          
        
          const data2 = {
            labels: labels2,
            datasets: [{
              label: 'total Revenue',
              backgroundColor: 'rgb(100,228,255)',
              borderColor: 'rgb(100,228,255)',
              data:[$("#paypall").html(),$("#codd").html()],
            }]
          };
        
          const config2 = {
            type: 'line',
            data: data2,
            options: {}
          };
          const myChart2 = new Chart(
            document.getElementById('myChart2'),
            config2
          );
        })



        
        </script>
        
         
      
</body>